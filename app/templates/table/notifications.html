{% extends "base.html" %}
{% import "_macros.html" as macros %}

{% block page_content %}

{#    <a tabindex="0" class="" role="button" data-toggle="popover"#}
{#       data-placement="bottom" data-trigger="focus" title="Notification"#}
{#       data-html="true"#}
{#       data-content='#}
{#                    {% for notice in notices %}#}
{#                    <div>#}
{#                        {% if notice == notices[0] or notice == notices[1] or notice == notices[2] or notice == notices[3] or notice == notices[4] or notice == notices[5]%}#}
{#                            <a href="{{ url_for('.user', username=notice.username) }}" style="float:left; display: inline; margin-right: 4px">#}
{#                                <p>{{ notice.username }} </p>#}
{#                            </a>#}
{#                            <p style="float:left;display: inline"> {{ notice.action }} </p>#}
{##}
{#                            {% if notice.object_id %}#}
{#                            <a href="{{ url_for('.post', id = notice.object_id) }}" style="float:left;margin-left: 4px">#}
{#                                 <p>{{ notice.object }}</p>#}
{#                            </a>#}
{#                            {% else %}#}
{#                            <a href="{{ url_for('.user', username = current_user.username) }}" style="float:left;margin-left: 4px">#}
{#                                 <p>{{ notice.object }}</p>#}
{#                            </a>#}
{#                            {% endif %}#}
{#                        {% endif %}#}
{#                        </div>#}
{#                    {% endfor %}'>#}
{#                    <svg viewBox="0 0 1024 1024" width="20" height="20">#}
{#                        <defs><style type="text/css"></style></defs>#}
{#                        <path d="M892.343 738.743c7.314 0 21.943 0 29.257 7.314-29.257-21.943-51.2-58.514-51.2-95.086V424.23c0-168.229-117.029-307.2-285.257-343.772v-7.314C585.143 36.57 548.57 0 512 0s-80.457 36.571-80.457 73.143v7.314C270.629 117.03 153.6 256 153.6 424.23V650.97c0 36.572-21.943 73.143-51.2 95.086 7.314-7.314 14.629-7.314 29.257-7.314-29.257 0-51.2 21.943-51.2 51.2s21.943 51.2 51.2 51.2h768c29.257 0 51.2-21.943 51.2-51.2-7.314-21.943-29.257-43.886-58.514-51.2zM512 1024c73.143 0 131.657-58.514 131.657-131.657H380.343C380.343 965.486 438.857 1024 512 1024z" fill="#3BA9F6" p-id="1699">#}
{#                        </path>#}
{#                    </svg>#}
{#            </a>#}


    {% for notice in notices %}
        {% if notice.is_read %}
            <div class="panel panel-default">
        {% else %}
            <div class="panel panel-info">
        {% endif %}
                <div class="panel-heading">
                    <a href="{{ url_for('.change_read', id = notice.id) }}">
                        {% if notice.action == ' has followed ' %}
                            <h3 class="panel-title" style="display:inline;">Followers</h3>
                        {% elif notice.action == ' has liked your posting ' %}
                            <h3 class="panel-title" style="display:inline;">Likers</h3>
                        {% else %}
                            <h3 class="panel-title" style="display:inline;">Comments</h3>
                        {% endif %}
                    </a>

                    <p style="float: right">{{ moment(notice.timestamp).format('L') }}</p>
                </div>

                <div class="panel-body" >
                    {% if notice.username == 'Anonymous' %}
                        <h5 style="float:left; display: inline; margin-right: 4px">
                            Anonymous user
                        </h5>
                    {% else %}
                        <a href="{{ url_for('.user', username=notice.username) }}" style="float:left; display: inline; margin-right: 4px">
                            <h5>{{ notice.username }} </h5>
                        </a>
                    {% endif %}

                    <h5 style="float:left;display: inline"> {{ notice.action }} </h5>

                    {% if notice.object_id %}
                    <a href="{{ url_for('.post', id = notice.object_id) }}" style="float:left;display: inline;margin-left: 4px">
                         <h5>{{ notice.object }}</h5>
                    </a>
                    {% else %}
                    <a href="{{ url_for('.user', username = current_user.username) }}" style="float:left;display: inline;margin-left: 4px">
                         <h5>{{ notice.object }}</h5>
                    </a>
                    {% endif %}
                </div>

            </div>

    {% endfor %}

{% endblock %}


{% block scripts %}
{{ super() }}
    <script>
    $(function (){
        $("[data-toggle='popover']").popover({
        });
    });
    $(".jconfirm-box-container").css({
        "max-width": "2000px",
        "width":"1000",
        "height":"800",
    });
    </script>
{% endblock %}